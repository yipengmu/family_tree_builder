# 家谱搬家

### 1. 前提
* 得有一份家谱
* 通常都是纸质的，纸质的家谱存在较大弊端，比如不方便携带，不易保存，难于信息同步
* 在现在信息化的社会里，如果家族里还有家谱，应该庆幸，感恩先辈们
* 我们这一代年轻人，是有责任把家族的历史（即使不是NB人家）延续下去，不能让树状图的信息传递断在我们的这个节点上
* 我们希望将其信息化，方便家族信息的延续，让每一代孩子知道自己的祖上的历史
* 避免孩子问爸爸我们老家是哪里的，只能向上说出一两代的信息
	
### 2. 拍照
* 常见的家谱一般是物理介质的，比如用纸作为载体记录的
* 这种情况成本最低的信息转化
* 我目前认为是，纸质>拍照>OCR识别软件(手机APP有很多免费软件)>得到文本类原始信息
* 应该数据的初步梳理，应该可以得到电子版的家谱信息原始数据了，例如这样

### 3. 模型建立

	{
	"g_rank": 1,
	"g_id": 1,
	"g_father_id": 0,
	"g_mother_id": 0,
	"g_info": {
		"name": "穆茂",
		"sex": "男",
		"birth_date": "",
		"shenfenzheng_id": "",
		"face_img": "",
		"photos": [],
		"household_info": {},
		"spouse": {},
		"home_page": "",
		"dealth": true,
		"rank_index": 1,
		"formal_name": "",
		"summary": "",
		"location": ""
	},
	"childrens": []
	}
	
### 4. 存储设计

大json字符串 or db-row

考虑到维护和简单性，经过思考后的最底层数据属性应该是打散平级的，即如下的模式

	{
	    "g_rank": 1, 
	    "g_id": 1, 
	    "g_father_id": 0, 
	    "g_mother_id": 0, 
	    "name": "穆茂", 
	    "sex": "男", 
	    "birth_date": "", 
	    "shenfenzheng_id": "", 
	    "face_img": "", 
	    "photos": [ ], 
	    "household_info": { }, 
	    "spouse": { }, 
	    "home_page": "", 
	    "dealth": true, 
	    "rank_index": 1, 
	    "formal_name": "", 
	    "summary": "", 
	    "location": "", 
	    "childrens": [ ]
	}

以这样的存储格式去存，其实对于sql或直接基于kv的键值对存储问题也就不大了

### 信息化数据

这块刚开始想的很好，太理想了：

#### 什么OCR技术

> OCR （Optical Character Recognition，光学字符识别）是指电子设备（例如扫描仪或数码相机）检查纸上打印的字符，通过检测暗、亮的模式确定其形状，然后用字符识别方法将形状翻译成计算机文字的过程；即，针对印刷体字符，采用光学的方式将纸质文档中的文字转换成为黑白点阵的图像文件，并通过识别软件将图像中的文字转换成文本格式，供文字处理软件进一步编辑加工的技术。如何除错或利用辅助信息提高识别正确率，是OCR最重要的课题，ICR（Intelligent Character Recognition）的名词也因此而产生。衡量一个OCR系统性能好坏的主要指标有：拒识率、误识率、识别速度、用户界面的友好性，产品的稳定性，易用性及可行性等。

#### 什么可扩展性的技术方案

> 纸质家谱>图像拍照>图形>图像>边缘识别>文字抽取>字符内容整理>数据建模>数据落库>大json原始数据文本文件。。。


现实发现，还是老老实实的

如果就为了把穆家建立一份信息化副本的话，以MVP的方式，还是直接干来得快

附一张白发大爷的图！

#### 简单总结为

拍照

把图片按世代重命名图片文件名

人肉逐个分析每一页内容

可以使用PC端的QQ截屏工具“辅助”“部分码字”工作

然后直接数据库ctrl C 加 ctrl V 即可。